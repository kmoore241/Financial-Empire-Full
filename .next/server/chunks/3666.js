"use strict";exports.id=3666,exports.ids=[3666],exports.modules={9890:(e,t,l)=>{l.d(t,{Ol:()=>i,Zb:()=>a,aY:()=>d,ll:()=>c});var r=l(997),s=l(6689);function n(...e){return e.filter(Boolean).join(" ")}let a=s.forwardRef(({className:e,...t},l)=>r.jsx("div",{ref:l,className:n("rounded-xl border bg-white/5 text-white shadow-sm dark:border-zinc-800 dark:bg-zinc-900",e),...t}));a.displayName="Card";let i=s.forwardRef(({className:e,...t},l)=>r.jsx("div",{ref:l,className:n("p-6 pb-2",e),...t}));i.displayName="CardHeader";let c=s.forwardRef(({className:e,...t},l)=>r.jsx("h3",{ref:l,className:n("text-lg font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle",s.forwardRef(({className:e,...t},l)=>r.jsx("p",{ref:l,className:n("text-sm text-zinc-400",e),...t})).displayName="CardDescription";let d=s.forwardRef(({className:e,...t},l)=>r.jsx("div",{ref:l,className:n("p-6 pt-0",e),...t}));d.displayName="CardContent",s.forwardRef(({className:e,...t},l)=>r.jsx("div",{ref:l,className:n("p-6 pt-0",e),...t})).displayName="CardFooter"},3666:(e,t,l)=>{l.r(t),l.d(t,{default:()=>b});var r=l(997),s=l(6689),n=l(9890);let a=[100,101,103,102,104,106,105,107,108,107,106,109,111,112,111,113,112,114,116,115,117,118,117,119,121,120,122,121,123,124,123,125,126,127,126,128];function i(e){let t=Math.min(...e),l=Math.max(...e);return isFinite(t)&&isFinite(l)&&l!==t?e.map(e=>(e-t)/(l-t)):e.map(()=>.5)}function c(e,t=.5){let l=[...e].sort((e,t)=>e.price-t.price),r=[];for(let e of l){let l=r[r.length-1];!l||Math.abs(l.price-e.price)>t?r.push({price:e.price,count:1}):(l.price=(l.price*l.count+e.price)/(l.count+1),l.count+=1)}return r.map(e=>Number(e.price.toFixed(2)))}function d(){let[e]=(0,s.useState)(a),[t,l]=(0,s.useState)(2),[n,d]=(0,s.useState)(.3),[x,o]=(0,s.useState)(""),[m,u]=(0,s.useState)([]),[h,p]=(0,s.useState)(!0),{suggested:g,swings:f}=(0,s.useMemo)(()=>{let l=function(e,t=2){let l=[],r=[];for(let s=t;s<e.length-t;s++){let n=e[s],a=!0,i=!0;for(let l=1;l<=t&&(n>e[s-l]&&n>e[s+l]||(a=!1),n<e[s-l]&&n<e[s+l]||(i=!1),a||i);l++);a?l.push({idx:s,price:n}):i&&r.push({idx:s,price:n})}return{highs:l,lows:r}}(e,t);return{suggested:Array.from(new Set([...c(l.highs.map(e=>({price:e.price})),.6),...c(l.lows.map(e=>({price:e.price})),.6)].map(e=>e.toFixed(2)))).map(Number),swings:l}},[e,t]),j=(0,s.useMemo)(()=>Array.from(new Set([...h?g:[],...m.map(Number)])).sort((e,t)=>e-t),[g,m,h]),y=(0,s.useMemo)(()=>(function(e,t,l=.3){let r=[];if(!e.length||!t.length)return r;let s=l/100*(Math.max(...e)-Math.min(...e)||1);for(let l=1;l<e.length;l++){let n=e[l-1],a=e[l];for(let e of t){Math.abs(a-e)<=s&&r.push({idx:l,type:"TOUCH",level:e,price:a});let t=n<=e&&a>e,i=n>=e&&a<e;t&&r.push({idx:l,type:"BREAK↑",level:e,price:a}),i&&r.push({idx:l,type:"BREAK↓",level:e,price:a})}}return r})(e,j,n),[e,j,n]),b=e=>{u(t=>t.filter(t=>Number(t)!==Number(e)))};return(0,r.jsxs)("div",{className:"rounded-2xl border border-gray-200/40 dark:border-gray-800 p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Support & Resistance Drill"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Identify touches and breaks around key horizontal levels."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("label",{className:"text-sm",children:["Swing lookback",r.jsx("input",{type:"number",min:1,max:6,value:t,onChange:e=>l(Math.max(1,Math.min(6,Number(e.target.value)||2))),className:"ml-2 w-24 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["Touch tolerance (% of range)",r.jsx("input",{type:"number",step:"0.1",min:.05,max:2,value:n,onChange:e=>d(Math.max(.05,Math.min(2,Number(e.target.value)||.3))),className:"ml-2 w-28 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:h,onChange:e=>p(e.target.checked)}),"Use auto-suggested levels"]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-end gap-2 mb-4",children:[r.jsx("input",{type:"number",placeholder:"Add level (e.g. 112.5)",value:x,onChange:e=>o(e.target.value),className:"w-44 rounded border px-3 py-1 bg-transparent"}),r.jsx("button",{onClick:()=>{let e=Number(x);isFinite(e)&&(u(t=>Array.from(new Set([...t,Number(e.toFixed(2))]))),o(""))},className:"px-3 py-1 rounded border",children:"Add Level"})]}),(0,r.jsxs)("svg",{className:"w-full",viewBox:"0 0 640 220",role:"img","aria-label":"Support & Resistance chart",children:[r.jsx("rect",{x:"0",y:"0",width:640,height:220,fill:"none"}),r.jsx("path",{d:function(e,t,l,r=8){let s=e.length;if(!s)return"";let n=640-2*r,a=220-2*r,c=i(e),d="";for(let e=0;e<s;e++){let t=r+e/(s-1)*n,l=r+(1-c[e])*a;d+=(e?" L ":"M ")+t.toFixed(1)+" "+l.toFixed(1)}return d}(e,0,0),fill:"none",stroke:"currentColor",strokeWidth:"1.6",opacity:"0.9"}),j.map((t,l)=>{i(e);let s=Math.min(...e),n=8+(1-(t-s)/(Math.max(...e)-s||1))*204;return(0,r.jsxs)("g",{children:[r.jsx("line",{x1:"8",x2:632,y1:n,y2:n,stroke:"currentColor",opacity:"0.25",strokeDasharray:"4 4"}),r.jsx("text",{x:632,y:n-4,textAnchor:"end",fontSize:"10",className:"fill-current",children:t.toFixed(2)})]},`lvl-${l}`)}),[...f.highs||[],...f.lows||[]].map(t=>{let l=i(e),s=8+t.idx/(e.length-1)*624,n=8+(1-l[t.idx])*204;return r.jsx("circle",{cx:s,cy:n,r:"2.5",fill:"currentColor",opacity:"0.45"},`sw-${t.idx}`)}),y.map((t,l)=>{let s=i(e),n=8+t.idx/(e.length-1)*624,a=8+(1-s[t.idx])*204;return(0,r.jsxs)("g",{children:[r.jsx("rect",{x:n-5,y:a-5,width:"10",height:"10",fill:"currentColor"}),r.jsx("text",{x:n+8,y:a-8,fontSize:"10",className:"fill-current",children:t.type})]},`ev-${l}`)})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[j.map(e=>(0,r.jsxs)("span",{className:"text-xs rounded-full border px-2 py-1",children:[e.toFixed(2),!h&&r.jsx("button",{className:"ml-2 text-xs opacity-60 hover:opacity-100",onClick:()=>b(e),"aria-label":`Remove ${e}`,children:"✕"})]},`pill-${e}`)),0===j.length&&r.jsx("span",{className:"text-sm text-gray-500",children:"No levels yet — add one or enable auto-suggest."})]}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Events"}),0===y.length?r.jsx("div",{className:"text-sm text-gray-500",children:"No touches or breaks with current settings."}):r.jsx("ul",{className:"text-sm space-y-1",children:y.map((e,t)=>(0,r.jsxs)("li",{children:[e.type," at index ",e.idx," near level ",e.level.toFixed(2)," (price ",e.price.toFixed?e.price.toFixed(2):e.price,")"]},`li-${t}`))})]})]})}let x=[100,101,102,103,102,101,102,104,106,105,107,108,109,107,106,108,110,111,112,111,113,115,114];function o(e,t){if(t<=0)return[];let l=[],r=0;for(let s=0;s<e.length;s++)r+=e[s],s>=t&&(r-=e[s-t]),l.push(s>=t-1?r/t:null);return l}function m(e){let t=e.filter(e=>null!=e),l=Math.min(...t),r=Math.max(...t);return isFinite(l)&&isFinite(r)&&r!==l?e.map(e=>null==e?null:(e-l)/(r-l)):e.map(()=>.5)}function u(e,t,l,r=8){let s=t-2*r,n=l-2*r,a=e.length;if(0===a)return"";let i=m(e),c="";for(let e=0;e<a;e++){let t=i[e];if(null==t)continue;let l=r+e/(a-1)*s,d=r+(1-t)*n;c+=(c?" L ":"M ")+l.toFixed(1)+" "+d.toFixed(1)}return c}function h(){let[e]=(0,s.useState)(x),[t,l]=(0,s.useState)(5),[n,a]=(0,s.useState)(12),{shortMA:i,longMA:c,signals:d}=(0,s.useMemo)(()=>{let l=o(e,t),r=o(e,n),s=[],a=null;for(let t=0;t<e.length;t++){let n=l[t],i=r[t],c=null;null!=n&&null!=i&&(null!=a&&(a<=0&&n-i>0&&(c="BUY"),a>=0&&n-i<0&&(c="SELL")),a=n-i),c&&s.push({idx:t,type:c,price:e[t]})}return{shortMA:l,longMA:r,signals:s}},[e,t,n]);return(0,r.jsxs)("div",{className:"rounded-2xl border border-gray-200/40 dark:border-gray-800 p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"MA Crossover Drill"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Practice identifying simple moving-average crossovers."})]}),(0,r.jsxs)("div",{className:"flex gap-4 items-end mb-4",children:[(0,r.jsxs)("label",{className:"text-sm",children:["Short MA",r.jsx("input",{type:"number",min:2,max:e.length,value:t,onChange:t=>l(Math.max(2,Math.min(e.length,Number(t.target.value)||2))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["Long MA",r.jsx("input",{type:"number",min:3,max:e.length,value:n,onChange:t=>a(Math.max(3,Math.min(e.length,Number(t.target.value)||3))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]})]}),(0,r.jsxs)("svg",{className:"w-full",viewBox:"0 0 520 140",role:"img","aria-label":"MA crossover chart",children:[r.jsx("rect",{x:"0",y:"0",width:520,height:140,fill:"none"}),r.jsx("path",{d:u(e,520,140),fill:"none",stroke:"currentColor",opacity:"0.45",strokeWidth:"1.5"}),r.jsx("path",{d:u(i,520,140),fill:"none",stroke:"currentColor",opacity:"0.9",strokeWidth:"1.5"}),r.jsx("path",{d:u(c,520,140),fill:"none",stroke:"currentColor",opacity:"0.9",strokeWidth:"1.5",strokeDasharray:"4 4"}),d.map(t=>{let l=m(e),s=8+t.idx/(e.length-1)*504,n=8+(1-l[t.idx])*124;return(0,r.jsxs)("g",{children:[r.jsx("circle",{cx:s,cy:n,r:"3.5",fill:"currentColor"}),r.jsx("text",{x:s+6,y:n-6,fontSize:"10",className:"fill-current",children:t.type})]},t.idx)})]}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Signals"}),0===d.length?r.jsx("div",{className:"text-sm text-gray-500",children:"No crossovers with the current windows."}):r.jsx("ul",{className:"text-sm space-y-1",children:d.map(e=>(0,r.jsxs)("li",{children:[r.jsx("span",{className:"BUY"===e.type?"text-green-600 font-medium":"text-red-600 font-medium",children:e.type})," ","@ index ",e.idx," (price ",e.price.toFixed?e.price.toFixed(2):e.price,")"]},e.idx))})]})]})}let p=[100,101,102,103,102,101,102,104,106,105,107,108,109,107,106,108,110,111,112,111,113,115,114,116,117,116,118,119,118,120,121,120,122];function g(e,t){let l=[],r=2/(t+1),s=null;for(let n=0;n<e.length;n++){let a=e[n];if(null==a){l.push(null);continue}if(null==s){if(n<t-1){l.push(null);continue}let r=function(e,t){let l=[],r=0;for(let s=0;s<e.length;s++)r+=e[s],s>=t&&(r-=e[s-t]),l.push(s>=t-1?r/t:null);return l}(e.slice(0,n+1),t)[n];s=r,l.push(r)}else{let e=a*r+s*(1-r);l.push(e),s=e}}return l}function f(e){let t=e.filter(e=>null!=e),l=Math.min(...t),r=Math.max(...t);return isFinite(l)&&isFinite(r)&&r!==l?e.map(e=>null==e?null:(e-l)/(r-l)):e.map(e=>null==e?null:.5)}function j(e,t,l,r=8){let s=e.length;if(!s)return"";let n=t-2*r,a=l-2*r,i=f(e),c="";for(let e=0;e<s;e++){let t=i[e];if(null==t)continue;let l=r+e/(s-1)*n,d=r+(1-t)*a;c+=(c?" L ":"M ")+l.toFixed(1)+" "+d.toFixed(1)}return c}function y(){let[e]=(0,s.useState)(p),[t,l]=(0,s.useState)(14),[n,a]=(0,s.useState)(12),[i,c]=(0,s.useState)(26),[d,x]=(0,s.useState)(9),{rsiVals:o,macdLine:m,signalLine:u,histogram:h,rsiSignals:y,macdSignals:b}=(0,s.useMemo)(()=>{let l=function(e,t=14){let l=Array(e.length).fill(null);if(e.length<t+1)return l;let r=0,s=0;for(let l=1;l<=t;l++){let t=e[l]-e[l-1];t>=0?r+=t:s-=t}let n=r/t,a=s/t;l[t]=0===a?100:100-100/(1+n/a);for(let r=t+1;r<e.length;r++){let s=e[r]-e[r-1],i=Math.max(0,s),c=Math.max(0,-s);n=(n*(t-1)+i)/t,a=(a*(t-1)+c)/t,l[r]=0===a?100:100-100/(1+n/a)}return l}(e,t),{macdLine:r,signalLine:s,histogram:a}=function(e,t=12,l=26,r=9){let s=g(e,t),n=g(e,l),a=e.map((e,t)=>null!=s[t]&&null!=n[t]?s[t]-n[t]:null),i=g(a,r),c=a.map((e,t)=>null!=e&&null!=i[t]?e-i[t]:null);return{macdLine:a,signalLine:i,histogram:c}}(e,n,i,d),c=[];for(let e=1;e<l.length;e++)null!=l[e-1]&&null!=l[e]&&(l[e-1]<=70&&l[e]>70&&c.push({idx:e,type:"RSI>70"}),l[e-1]>=30&&l[e]<30&&c.push({idx:e,type:"RSI<30"}));let x=[];for(let e=1;e<r.length;e++){let t=r[e-1],l=s[e-1],n=r[e],a=s[e];if(null==t||null==l||null==n||null==a)continue;let i=t-l,c=n-a;i<=0&&c>0&&x.push({idx:e,type:"MACD↑"}),i>=0&&c<0&&x.push({idx:e,type:"MACD↓"})}return{rsiVals:l,macdLine:r,signalLine:s,histogram:a,rsiSignals:c,macdSignals:x}},[e,t,n,i,d]);return(0,r.jsxs)("div",{className:"rounded-2xl border border-gray-200/40 dark:border-gray-800 p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"RSI + MACD Drill"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Practice reading RSI zones and MACD crossovers."})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[(0,r.jsxs)("label",{className:"text-sm",children:["RSI",r.jsx("input",{type:"number",min:2,max:50,value:t,onChange:e=>l(Math.max(2,Math.min(50,Number(e.target.value)||14))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["MACD Fast",r.jsx("input",{type:"number",min:2,max:50,value:n,onChange:e=>a(Math.max(2,Math.min(50,Number(e.target.value)||12))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["MACD Slow",r.jsx("input",{type:"number",min:3,max:100,value:i,onChange:e=>c(Math.max(3,Math.min(100,Number(e.target.value)||26))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["Signal",r.jsx("input",{type:"number",min:2,max:50,value:d,onChange:e=>x(Math.max(2,Math.min(50,Number(e.target.value)||9))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-1",children:(0,r.jsxs)("span",{className:"text-sm font-medium",children:["RSI (",t,")"]})}),(0,r.jsxs)("svg",{className:"w-full",viewBox:"0 0 560 140",role:"img","aria-label":"RSI",children:[r.jsx("rect",{x:"0",y:"0",width:560,height:140,fill:"none"}),r.jsx("line",{x1:"0",y1:42,x2:560,y2:42,stroke:"currentColor",opacity:"0.15"}),r.jsx("line",{x1:"0",y1:98,x2:560,y2:98,stroke:"currentColor",opacity:"0.15"}),r.jsx("path",{d:j(o,560,140),fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),y.map(e=>{let t=f(o),l=8+e.idx/(o.length-1)*544,s=8+(1-t[e.idx])*124;return(0,r.jsxs)("g",{children:[r.jsx("circle",{cx:l,cy:s,r:"3",fill:"currentColor"}),r.jsx("text",{x:l+6,y:s-6,fontSize:"10",className:"fill-current",children:e.type})]},`r${e.idx}`)})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Bands at 70 / 30"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-1",children:(0,r.jsxs)("span",{className:"text-sm font-medium",children:["MACD (",n,",",i,",",d,")"]})}),(0,r.jsxs)("svg",{className:"w-full",viewBox:"0 0 560 120",role:"img","aria-label":"MACD",children:[r.jsx("rect",{x:"0",y:"0",width:560,height:120,fill:"none"}),h.map((e,t)=>{if(null==e)return null;let l=f(h),s=8+t/(h.length-1)*544,n=8+(1-l[t])*104;return r.jsx("line",{x1:s,x2:s,y1:60,y2:n,stroke:"currentColor",opacity:"0.25"},`h${t}`)}),r.jsx("path",{d:j(m,560,120),fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),r.jsx("path",{d:j(u,560,120),fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeDasharray:"4 4"}),b.map(e=>{let t=f(m),l=8+e.idx/(m.length-1)*544,s=8+(1-t[e.idx])*104;return(0,r.jsxs)("g",{children:[r.jsx("circle",{cx:l,cy:s,r:"3",fill:"currentColor"}),r.jsx("text",{x:l+6,y:s-6,fontSize:"10",className:"fill-current",children:e.type})]},`m${e.idx}`)})]})]}),(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"RSI Signals"}),0===y.length?r.jsx("div",{className:"text-sm text-gray-500",children:"No RSI events."}):r.jsx("ul",{className:"text-sm space-y-1",children:y.map(e=>(0,r.jsxs)("li",{children:[e.type," @ index ",e.idx]},`rl${e.idx}`))})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"MACD Signals"}),0===b.length?r.jsx("div",{className:"text-sm text-gray-500",children:"No MACD crossovers."}):r.jsx("ul",{className:"text-sm space-y-1",children:b.map(e=>(0,r.jsxs)("li",{children:[e.type," @ index ",e.idx]},`ml${e.idx}`))})]})]})]})}function b(){return(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"Trading Drills"})}),(0,r.jsxs)(n.aY,{children:[r.jsx(d,{}),r.jsx(h,{}),r.jsx(y,{})]})]})}}};