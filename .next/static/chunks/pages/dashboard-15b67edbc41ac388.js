(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26,624],{4582:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(2824)}])},2824:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var s=t(2676),a=t(5271),l=t(9514),n=t.n(l);function d(e){let{message:r,type:t="info"}=e;return r?(0,s.jsx)("div",{className:"p-3 text-sm border ".concat({info:"bg-blue-50 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",warning:"bg-yellow-50 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800",error:"bg-red-50 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800",success:"bg-green-50 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800"}[t]," text-center"),children:r}):null}var i=t(9074);class c{log(e,r,t){let s={level:e,message:r,meta:t,timestamp:new Date().toISOString()};this.isDev?("error"===e?console.error:"warn"===e?console.warn:console.log)("[".concat(e.toUpperCase(),"] ").concat(r),t||""):this.sendToMonitoring(s)}info(e,r){this.log("info",e,r)}warn(e,r){this.log("warn",e,r)}error(e,r){this.log("error",e,r)}sendToMonitoring(e){console.log(JSON.stringify(e))}constructor(){this.isDev=!1}}new c,t(624);var o=t(7240);async function x(e){let r=await fetch(e,{headers:{accept:"application/json"}});if(!r.ok)throw Error("Fetch ".concat(e," failed: ").concat(r.status));return r.json()}function h(){let{data:e,error:r,isLoading:t}=(0,o.ZP)("/api/news",x);return(0,s.jsxs)(i.Zb,{className:"md:col-span-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"News Feed"}),t&&(0,s.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,s.jsx)("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-100 dark:bg-gray-800"}),(0,s.jsx)("div",{className:"h-4 w-2/3 animate-pulse rounded bg-gray-100 dark:bg-gray-800"}),(0,s.jsx)("div",{className:"h-4 w-1/2 animate-pulse rounded bg-gray-100 dark:bg-gray-800"})]}),r&&(0,s.jsx)("div",{className:"mt-3 text-sm text-red-600",children:"Failed to load news."}),!!(null==e?void 0:e.length)&&(0,s.jsx)("ul",{className:"mt-3 space-y-3",children:e.slice(0,6).map((e,r)=>{var t;return(0,s.jsxs)("li",{className:"leading-snug",children:[(0,s.jsx)("a",{className:"text-blue-600 hover:underline",href:e.url,target:"_blank",rel:"noreferrer",children:e.title}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[null!==(t=e.source)&&void 0!==t?t:"Source",e.publishedAt?" • ".concat(new Date(e.publishedAt).toLocaleString()):""]})]},r)})})]})}function u(){let{data:e,error:r,isLoading:t}=(0,o.ZP)("/api/trades",x);return(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)("div",{className:"mb-2 text-sm text-gray-500",children:"Recent Trades"}),t&&(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Loading…"}),r&&(0,s.jsx)("div",{className:"text-sm text-red-600",children:"Failed to load trades."}),!!(null==e?void 0:e.length)&&(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"text-gray-500",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-1 text-left",children:"Time"}),(0,s.jsx)("th",{className:"py-1 text-left",children:"Symbol"}),(0,s.jsx)("th",{className:"py-1 text-left",children:"Side"}),(0,s.jsx)("th",{className:"py-1 text-right",children:"Qty"}),(0,s.jsx)("th",{className:"py-1 text-right",children:"Price"}),(0,s.jsx)("th",{className:"py-1 text-right",children:"PnL"})]})}),(0,s.jsx)("tbody",{children:e.slice(0,6).map(e=>{var r,t,a;return(0,s.jsxs)("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:[(0,s.jsx)("td",{className:"py-1 pr-2",children:new Date(e.time).toLocaleTimeString()}),(0,s.jsx)("td",{className:"py-1 pr-2",children:e.symbol}),(0,s.jsx)("td",{className:"py-1 pr-2",children:e.side}),(0,s.jsx)("td",{className:"py-1 pr-2 text-right tabular-nums",children:e.qty}),(0,s.jsxs)("td",{className:"py-1 pr-2 text-right tabular-nums",children:["$",e.price.toFixed(2)]}),(0,s.jsxs)("td",{className:"py-1 text-right tabular-nums ".concat((null!==(r=e.pnl)&&void 0!==r?r:0)>=0?"text-green-600":"text-red-500"),children:[(null!==(t=e.pnl)&&void 0!==t?t:0)>=0?"+":"",(null!==(a=e.pnl)&&void 0!==a?a:0).toFixed(2)]})]},e.id)})})]})]})}let m=e=>fetch(e).then(e=>{if(!e.ok)throw Error("HTTP ".concat(e.status));return e.json()});function g(){var e,r;let{data:t,error:a}=(0,o.ZP)("/api/sentiment",m),l=null!==(e=null==t?void 0:t.score)&&void 0!==e?e:.5,n=Object.entries({bullish:0,bearish:0,neutral:1,...null!==(r=null==t?void 0:t.breakdown)&&void 0!==r?r:{}});return(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Market Sentiment"}),a&&(0,s.jsx)("div",{className:"text-xs text-red-500",children:"offline"})]}),(0,s.jsxs)("div",{className:"mt-2 text-2xl font-semibold tabular-nums",children:[Math.round(100*l),"%"]}),(0,s.jsx)("div",{className:"mt-4 space-y-3",children:n.map(e=>{let[r,t]=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,s.jsx)("span",{className:"capitalize",children:r}),(0,s.jsxs)("span",{children:[Math.round((null!=t?t:0)*100),"%"]})]}),(0,s.jsx)("div",{className:"h-2 w-full rounded bg-gray-100 dark:bg-gray-800",children:(0,s.jsx)("div",{className:"h-2 rounded bg-gray-900 dark:bg-gray-100",style:{width:"".concat(Math.round((null!=t?t:0)*100),"%")}})})]},r)})})]})}var b=t(6804),f=t.n(b);let j=[{href:"/bots",label:"Bots"},{href:"/wallet",label:"Wallet"},{href:"/settings",label:"Settings"},{href:"/news",label:"News"},{href:"/academy",label:"Academy"}];function p(){return(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)("div",{className:"mb-2 text-sm text-gray-500",children:"Shortcuts"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:j.map(e=>(0,s.jsx)(f(),{href:e.href,className:"rounded-lg border border-gray-200 px-3 py-2 text-sm hover:bg-gray-50 dark:border-gray-800 dark:hover:bg-gray-800",children:e.label},e.href))})]})}let N=n()(()=>t.e(101).then(t.bind(t,7101)).then(e=>e.default),{loadableGenerated:{webpack:()=>[7101]},ssr:!1});function y(){let[e,r]=a.useState(""),[t,l]=a.useState(!1);return a.useEffect(()=>{r(JSON.parse(localStorage.getItem("fe:admin:broadcast")||'""')),l(JSON.parse(localStorage.getItem("fe:admin:broadcast:active")||"false"))},[]),(0,s.jsxs)("div",{className:"space-y-4",children:[t&&e&&(0,s.jsx)(d,{message:e,type:"info"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsx)(h,{}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Performance"}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(N,{})})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsx)(u,{}),(0,s.jsx)(g,{}),(0,s.jsx)(p,{})]})]})}},9074:function(e,r,t){"use strict";t.d(r,{Ol:function(){return d},Zb:function(){return n},aY:function(){return c},ll:function(){return i}});var s=t(2676),a=t(5271);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter(Boolean).join(" ")}let n=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:l("rounded-xl border bg-white/5 text-white shadow-sm dark:border-zinc-800 dark:bg-zinc-900",t),...a})});n.displayName="Card";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:l("p-6 pb-2",t),...a})});d.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:r,className:l("text-lg font-semibold leading-none tracking-tight",t),...a})});i.displayName="CardTitle",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:l("text-sm text-zinc-400",t),...a})}).displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:l("p-6 pt-0",t),...a})});c.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:l("p-6 pt-0",t),...a})}).displayName="CardFooter"},624:function(e,r,t){"use strict";t.r(r),t.d(r,{ThemeContext:function(){return l},ThemeProvider:function(){return n}});var s=t(2676),a=t(5271);let l=(0,a.createContext)(),n=e=>{let{children:r}=e,[t,n]=(0,a.useState)(!0);return(0,s.jsx)(l.Provider,{value:{darkMode:t,toggleTheme:()=>n(!t)},children:(0,s.jsx)("div",{className:t?"theme-dark":"theme-light",children:r})})}}},function(e){e.O(0,[240,888,774,179],function(){return e(e.s=4582)}),_N_E=e.O()}]);