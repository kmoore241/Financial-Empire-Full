"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{9074:function(e,t,l){l.d(t,{Ol:function(){return i},Zb:function(){return a},aY:function(){return o},ll:function(){return c}});var r=l(2676),n=l(5271);function s(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return t.filter(Boolean).join(" ")}let a=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,r.jsx)("div",{ref:t,className:s("rounded-xl border bg-white/5 text-white shadow-sm dark:border-zinc-800 dark:bg-zinc-900",l),...n})});a.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,r.jsx)("div",{ref:t,className:s("p-6 pb-2",l),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,r.jsx)("h3",{ref:t,className:s("text-lg font-semibold leading-none tracking-tight",l),...n})});c.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,r.jsx)("p",{ref:t,className:s("text-sm text-zinc-400",l),...n})}).displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,r.jsx)("div",{ref:t,className:s("p-6 pt-0",l),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,r.jsx)("div",{ref:t,className:s("p-6 pt-0",l),...n})}).displayName="CardFooter"},9226:function(e,t,l){l.r(t),l.d(t,{default:function(){return b}});var r=l(2676),n=l(5271),s=l(9074);let a=[100,101,103,102,104,106,105,107,108,107,106,109,111,112,111,113,112,114,116,115,117,118,117,119,121,120,122,121,123,124,123,125,126,127,126,128];function i(e){let t=Math.min(...e),l=Math.max(...e);return isFinite(t)&&isFinite(l)&&l!==t?e.map(e=>(e-t)/(l-t)):e.map(()=>.5)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,l=[...e].sort((e,t)=>e.price-t.price),r=[];for(let e of l){let l=r[r.length-1];!l||Math.abs(l.price-e.price)>t?r.push({price:e.price,count:1}):(l.price=(l.price*l.count+e.price)/(l.count+1),l.count+=1)}return r.map(e=>Number(e.price.toFixed(2)))}function o(){let[e]=(0,n.useState)(a),[t,l]=(0,n.useState)(2),[s,o]=(0,n.useState)(.3),[d,x]=(0,n.useState)(""),[u,m]=(0,n.useState)([]),[h,p]=(0,n.useState)(!0),{suggested:g,swings:f}=(0,n.useMemo)(()=>{let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,l=[],r=[];for(let n=t;n<e.length-t;n++){let s=e[n],a=!0,i=!0;for(let l=1;l<=t&&(s>e[n-l]&&s>e[n+l]||(a=!1),s<e[n-l]&&s<e[n+l]||(i=!1),a||i);l++);a?l.push({idx:n,price:s}):i&&r.push({idx:n,price:s})}return{highs:l,lows:r}}(e,t);return{suggested:Array.from(new Set([...c(l.highs.map(e=>({price:e.price})),.6),...c(l.lows.map(e=>({price:e.price})),.6)].map(e=>e.toFixed(2)))).map(Number),swings:l}},[e,t]),j=(0,n.useMemo)(()=>Array.from(new Set([...h?g:[],...u.map(Number)])).sort((e,t)=>e-t),[g,u,h]),y=(0,n.useMemo)(()=>(function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.3,r=[];if(!e.length||!t.length)return r;let n=l/100*(Math.max(...e)-Math.min(...e)||1);for(let l=1;l<e.length;l++){let s=e[l-1],a=e[l];for(let e of t){Math.abs(a-e)<=n&&r.push({idx:l,type:"TOUCH",level:e,price:a});let t=s<=e&&a>e,i=s>=e&&a<e;t&&r.push({idx:l,type:"BREAK↑",level:e,price:a}),i&&r.push({idx:l,type:"BREAK↓",level:e,price:a})}}return r})(e,j,s),[e,j,s]),b=e=>{m(t=>t.filter(t=>Number(t)!==Number(e)))};return(0,r.jsxs)("div",{className:"rounded-2xl border border-gray-200/40 dark:border-gray-800 p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Support & Resistance Drill"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Identify touches and breaks around key horizontal levels."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("label",{className:"text-sm",children:["Swing lookback",(0,r.jsx)("input",{type:"number",min:1,max:6,value:t,onChange:e=>l(Math.max(1,Math.min(6,Number(e.target.value)||2))),className:"ml-2 w-24 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["Touch tolerance (% of range)",(0,r.jsx)("input",{type:"number",step:"0.1",min:.05,max:2,value:s,onChange:e=>o(Math.max(.05,Math.min(2,Number(e.target.value)||.3))),className:"ml-2 w-28 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm inline-flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:h,onChange:e=>p(e.target.checked)}),"Use auto-suggested levels"]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-end gap-2 mb-4",children:[(0,r.jsx)("input",{type:"number",placeholder:"Add level (e.g. 112.5)",value:d,onChange:e=>x(e.target.value),className:"w-44 rounded border px-3 py-1 bg-transparent"}),(0,r.jsx)("button",{onClick:()=>{let e=Number(d);isFinite(e)&&(m(t=>Array.from(new Set([...t,Number(e.toFixed(2))]))),x(""))},className:"px-3 py-1 rounded border",children:"Add Level"})]}),(0,r.jsxs)("svg",{className:"w-full",viewBox:"0 0 ".concat(640," ").concat(220),role:"img","aria-label":"Support & Resistance chart",children:[(0,r.jsx)("rect",{x:"0",y:"0",width:640,height:220,fill:"none"}),(0,r.jsx)("path",{d:function(e,t,l){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,n=e.length;if(!n)return"";let s=t-2*r,a=l-2*r,c=i(e),o="";for(let e=0;e<n;e++){let t=r+e/(n-1)*s,l=r+(1-c[e])*a;o+=(e?" L ":"M ")+t.toFixed(1)+" "+l.toFixed(1)}return o}(e,640,220),fill:"none",stroke:"currentColor",strokeWidth:"1.6",opacity:"0.9"}),j.map((t,l)=>{i(e);let n=Math.min(...e),s=8+(1-(t-n)/(Math.max(...e)-n||1))*204;return(0,r.jsxs)("g",{children:[(0,r.jsx)("line",{x1:"8",x2:632,y1:s,y2:s,stroke:"currentColor",opacity:"0.25",strokeDasharray:"4 4"}),(0,r.jsx)("text",{x:632,y:s-4,textAnchor:"end",fontSize:"10",className:"fill-current",children:t.toFixed(2)})]},"lvl-".concat(l))}),[...f.highs||[],...f.lows||[]].map(t=>{let l=i(e),n=8+t.idx/(e.length-1)*624,s=8+(1-l[t.idx])*204;return(0,r.jsx)("circle",{cx:n,cy:s,r:"2.5",fill:"currentColor",opacity:"0.45"},"sw-".concat(t.idx))}),y.map((t,l)=>{let n=i(e),s=8+t.idx/(e.length-1)*624,a=8+(1-n[t.idx])*204;return(0,r.jsxs)("g",{children:[(0,r.jsx)("rect",{x:s-5,y:a-5,width:"10",height:"10",fill:"currentColor"}),(0,r.jsx)("text",{x:s+8,y:a-8,fontSize:"10",className:"fill-current",children:t.type})]},"ev-".concat(l))})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[j.map(e=>(0,r.jsxs)("span",{className:"text-xs rounded-full border px-2 py-1",children:[e.toFixed(2),!h&&(0,r.jsx)("button",{className:"ml-2 text-xs opacity-60 hover:opacity-100",onClick:()=>b(e),"aria-label":"Remove ".concat(e),children:"✕"})]},"pill-".concat(e))),0===j.length&&(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"No levels yet — add one or enable auto-suggest."})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Events"}),0===y.length?(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"No touches or breaks with current settings."}):(0,r.jsx)("ul",{className:"text-sm space-y-1",children:y.map((e,t)=>(0,r.jsxs)("li",{children:[e.type," at index ",e.idx," near level ",e.level.toFixed(2)," (price ",e.price.toFixed?e.price.toFixed(2):e.price,")"]},"li-".concat(t)))})]})]})}let d=[100,101,102,103,102,101,102,104,106,105,107,108,109,107,106,108,110,111,112,111,113,115,114];function x(e,t){if(t<=0)return[];let l=[],r=0;for(let n=0;n<e.length;n++)r+=e[n],n>=t&&(r-=e[n-t]),l.push(n>=t-1?r/t:null);return l}function u(e){let t=e.filter(e=>null!=e),l=Math.min(...t),r=Math.max(...t);return isFinite(l)&&isFinite(r)&&r!==l?e.map(e=>null==e?null:(e-l)/(r-l)):e.map(()=>.5)}function m(e,t,l){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,n=t-2*r,s=l-2*r,a=e.length;if(0===a)return"";let i=u(e),c="";for(let e=0;e<a;e++){let t=i[e];if(null==t)continue;let l=r+e/(a-1)*n,o=r+(1-t)*s;c+=(c?" L ":"M ")+l.toFixed(1)+" "+o.toFixed(1)}return c}function h(){let[e]=(0,n.useState)(d),[t,l]=(0,n.useState)(5),[s,a]=(0,n.useState)(12),{shortMA:i,longMA:c,signals:o}=(0,n.useMemo)(()=>{let l=x(e,t),r=x(e,s),n=[],a=null;for(let t=0;t<e.length;t++){let s=l[t],i=r[t],c=null;null!=s&&null!=i&&(null!=a&&(a<=0&&s-i>0&&(c="BUY"),a>=0&&s-i<0&&(c="SELL")),a=s-i),c&&n.push({idx:t,type:c,price:e[t]})}return{shortMA:l,longMA:r,signals:n}},[e,t,s]);return(0,r.jsxs)("div",{className:"rounded-2xl border border-gray-200/40 dark:border-gray-800 p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"MA Crossover Drill"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Practice identifying simple moving-average crossovers."})]}),(0,r.jsxs)("div",{className:"flex gap-4 items-end mb-4",children:[(0,r.jsxs)("label",{className:"text-sm",children:["Short MA",(0,r.jsx)("input",{type:"number",min:2,max:e.length,value:t,onChange:t=>l(Math.max(2,Math.min(e.length,Number(t.target.value)||2))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["Long MA",(0,r.jsx)("input",{type:"number",min:3,max:e.length,value:s,onChange:t=>a(Math.max(3,Math.min(e.length,Number(t.target.value)||3))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]})]}),(0,r.jsxs)("svg",{className:"w-full",viewBox:"0 0 ".concat(520," ").concat(140),role:"img","aria-label":"MA crossover chart",children:[(0,r.jsx)("rect",{x:"0",y:"0",width:520,height:140,fill:"none"}),(0,r.jsx)("path",{d:m(e,520,140),fill:"none",stroke:"currentColor",opacity:"0.45",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:m(i,520,140),fill:"none",stroke:"currentColor",opacity:"0.9",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:m(c,520,140),fill:"none",stroke:"currentColor",opacity:"0.9",strokeWidth:"1.5",strokeDasharray:"4 4"}),o.map(t=>{let l=u(e),n=8+t.idx/(e.length-1)*504,s=8+(1-l[t.idx])*124;return(0,r.jsxs)("g",{children:[(0,r.jsx)("circle",{cx:n,cy:s,r:"3.5",fill:"currentColor"}),(0,r.jsx)("text",{x:n+6,y:s-6,fontSize:"10",className:"fill-current",children:t.type})]},t.idx)})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"font-medium mb-2 text-sm",children:"Signals"}),0===o.length?(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"No crossovers with the current windows."}):(0,r.jsx)("ul",{className:"text-sm space-y-1",children:o.map(e=>(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"BUY"===e.type?"text-green-600 font-medium":"text-red-600 font-medium",children:e.type})," ","@ index ",e.idx," (price ",e.price.toFixed?e.price.toFixed(2):e.price,")"]},e.idx))})]})]})}let p=[100,101,102,103,102,101,102,104,106,105,107,108,109,107,106,108,110,111,112,111,113,115,114,116,117,116,118,119,118,120,121,120,122];function g(e,t){let l=[],r=2/(t+1),n=null;for(let s=0;s<e.length;s++){let a=e[s];if(null==a){l.push(null);continue}if(null==n){if(s<t-1){l.push(null);continue}let r=function(e,t){let l=[],r=0;for(let n=0;n<e.length;n++)r+=e[n],n>=t&&(r-=e[n-t]),l.push(n>=t-1?r/t:null);return l}(e.slice(0,s+1),t)[s];n=r,l.push(r)}else{let e=a*r+n*(1-r);l.push(e),n=e}}return l}function f(e){let t=e.filter(e=>null!=e),l=Math.min(...t),r=Math.max(...t);return isFinite(l)&&isFinite(r)&&r!==l?e.map(e=>null==e?null:(e-l)/(r-l)):e.map(e=>null==e?null:.5)}function j(e,t,l){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,n=e.length;if(!n)return"";let s=t-2*r,a=l-2*r,i=f(e),c="";for(let e=0;e<n;e++){let t=i[e];if(null==t)continue;let l=r+e/(n-1)*s,o=r+(1-t)*a;c+=(c?" L ":"M ")+l.toFixed(1)+" "+o.toFixed(1)}return c}function y(){let[e]=(0,n.useState)(p),[t,l]=(0,n.useState)(14),[s,a]=(0,n.useState)(12),[i,c]=(0,n.useState)(26),[o,d]=(0,n.useState)(9),{rsiVals:x,macdLine:u,signalLine:m,histogram:h,rsiSignals:y,macdSignals:b}=(0,n.useMemo)(()=>{let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,l=Array(e.length).fill(null);if(e.length<t+1)return l;let r=0,n=0;for(let l=1;l<=t;l++){let t=e[l]-e[l-1];t>=0?r+=t:n-=t}let s=r/t,a=n/t;l[t]=0===a?100:100-100/(1+s/a);for(let r=t+1;r<e.length;r++){let n=e[r]-e[r-1],i=Math.max(0,n),c=Math.max(0,-n);s=(s*(t-1)+i)/t,a=(a*(t-1)+c)/t,l[r]=0===a?100:100-100/(1+s/a)}return l}(e,t),{macdLine:r,signalLine:n,histogram:a}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:26,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:9,n=g(e,t),s=g(e,l),a=e.map((e,t)=>null!=n[t]&&null!=s[t]?n[t]-s[t]:null),i=g(a,r),c=a.map((e,t)=>null!=e&&null!=i[t]?e-i[t]:null);return{macdLine:a,signalLine:i,histogram:c}}(e,s,i,o),c=[];for(let e=1;e<l.length;e++)null!=l[e-1]&&null!=l[e]&&(l[e-1]<=70&&l[e]>70&&c.push({idx:e,type:"RSI>70"}),l[e-1]>=30&&l[e]<30&&c.push({idx:e,type:"RSI<30"}));let d=[];for(let e=1;e<r.length;e++){let t=r[e-1],l=n[e-1],s=r[e],a=n[e];if(null==t||null==l||null==s||null==a)continue;let i=t-l,c=s-a;i<=0&&c>0&&d.push({idx:e,type:"MACD↑"}),i>=0&&c<0&&d.push({idx:e,type:"MACD↓"})}return{rsiVals:l,macdLine:r,signalLine:n,histogram:a,rsiSignals:c,macdSignals:d}},[e,t,s,i,o]);return(0,r.jsxs)("div",{className:"rounded-2xl border border-gray-200/40 dark:border-gray-800 p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"RSI + MACD Drill"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Practice reading RSI zones and MACD crossovers."})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[(0,r.jsxs)("label",{className:"text-sm",children:["RSI",(0,r.jsx)("input",{type:"number",min:2,max:50,value:t,onChange:e=>l(Math.max(2,Math.min(50,Number(e.target.value)||14))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["MACD Fast",(0,r.jsx)("input",{type:"number",min:2,max:50,value:s,onChange:e=>a(Math.max(2,Math.min(50,Number(e.target.value)||12))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["MACD Slow",(0,r.jsx)("input",{type:"number",min:3,max:100,value:i,onChange:e=>c(Math.max(3,Math.min(100,Number(e.target.value)||26))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]}),(0,r.jsxs)("label",{className:"text-sm",children:["Signal",(0,r.jsx)("input",{type:"number",min:2,max:50,value:o,onChange:e=>d(Math.max(2,Math.min(50,Number(e.target.value)||9))),className:"ml-2 w-20 rounded border px-2 py-1 bg-transparent"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,r.jsxs)("span",{className:"text-sm font-medium",children:["RSI (",t,")"]})}),(0,r.jsxs)("svg",{className:"w-full",viewBox:"0 0 ".concat(560," ").concat(140),role:"img","aria-label":"RSI",children:[(0,r.jsx)("rect",{x:"0",y:"0",width:560,height:140,fill:"none"}),(0,r.jsx)("line",{x1:"0",y1:42,x2:560,y2:42,stroke:"currentColor",opacity:"0.15"}),(0,r.jsx)("line",{x1:"0",y1:98,x2:560,y2:98,stroke:"currentColor",opacity:"0.15"}),(0,r.jsx)("path",{d:j(x,560,140),fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),y.map(e=>{let t=f(x),l=8+e.idx/(x.length-1)*544,n=8+(1-t[e.idx])*124;return(0,r.jsxs)("g",{children:[(0,r.jsx)("circle",{cx:l,cy:n,r:"3",fill:"currentColor"}),(0,r.jsx)("text",{x:l+6,y:n-6,fontSize:"10",className:"fill-current",children:e.type})]},"r".concat(e.idx))})]}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Bands at 70 / 30"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,r.jsxs)("span",{className:"text-sm font-medium",children:["MACD (",s,",",i,",",o,")"]})}),(0,r.jsxs)("svg",{className:"w-full",viewBox:"0 0 ".concat(560," ").concat(120),role:"img","aria-label":"MACD",children:[(0,r.jsx)("rect",{x:"0",y:"0",width:560,height:120,fill:"none"}),h.map((e,t)=>{if(null==e)return null;let l=f(h),n=8+t/(h.length-1)*544,s=8+(1-l[t])*104;return(0,r.jsx)("line",{x1:n,x2:n,y1:60,y2:s,stroke:"currentColor",opacity:"0.25"},"h".concat(t))}),(0,r.jsx)("path",{d:j(u,560,120),fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:j(m,560,120),fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeDasharray:"4 4"}),b.map(e=>{let t=f(u),l=8+e.idx/(u.length-1)*544,n=8+(1-t[e.idx])*104;return(0,r.jsxs)("g",{children:[(0,r.jsx)("circle",{cx:l,cy:n,r:"3",fill:"currentColor"}),(0,r.jsx)("text",{x:l+6,y:n-6,fontSize:"10",className:"fill-current",children:e.type})]},"m".concat(e.idx))})]})]}),(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-sm mb-2",children:"RSI Signals"}),0===y.length?(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"No RSI events."}):(0,r.jsx)("ul",{className:"text-sm space-y-1",children:y.map(e=>(0,r.jsxs)("li",{children:[e.type," @ index ",e.idx]},"rl".concat(e.idx)))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-sm mb-2",children:"MACD Signals"}),0===b.length?(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"No MACD crossovers."}):(0,r.jsx)("ul",{className:"text-sm space-y-1",children:b.map(e=>(0,r.jsxs)("li",{children:[e.type," @ index ",e.idx]},"ml".concat(e.idx)))})]})]})]})}function b(){return(0,r.jsxs)(s.Zb,{children:[(0,r.jsx)(s.Ol,{children:(0,r.jsx)(s.ll,{children:"Trading Drills"})}),(0,r.jsxs)(s.aY,{children:[(0,r.jsx)(o,{}),(0,r.jsx)(h,{}),(0,r.jsx)(y,{})]})]})}}}]);